<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add - ìkókó</title>
  <link rel="stylesheet" href="/static/css/base.css" />
  <link rel="stylesheet" href="/static/css/add.css" />
</head>
<body>
  <nav class="navbar">
    <span class="logo">ìkókó</span>
    <div class="nav-links">
      <a href="/dashboard.html">Dashboard</a>
      <a href="/add.html">Add New</a>
      <a href="/recent.html">Recent</a>
      <a href="/analytics.html">Analytics</a>
      <a href="/profile.html">Profile</a>
      <button id="theme-toggle" class="theme-toggle"></button>
      <button id="logout-btn" class="btn-logout">Logout</button>
    </div>
  </nav>

  <div class="container add-page">
    <h1>Add Names</h1>

    <!-- Create new parent OR select existing -->
    <div class="section-card">
      <h2>Baby</h2>
      <div class="parent-select-row">
        <div class="form-group">
          <label for="parent-select">Select existing</label>
          <select id="parent-select">
            <option value="">-- Select existing baby --</option>
          </select>
        </div>
      </div>

      <p style="text-align:center; color:var(--text-muted); margin:0.75rem 0; font-size:0.85rem;">or create new</p>

      <form id="parent-form">
        <div class="form-group">
          <label for="parent-label">Baby Name / Label</label>
          <input type="text" id="parent-label" placeholder="e.g. Lael" required />
        </div>
        <button type="submit" class="btn btn-primary">Create Baby</button>
      </form>
    </div>

    <!-- Add children (name entries) -->
    <div id="child-section" class="section-card" style="display:none;">
      <h2>Add Name Entry</h2>
      <form id="child-form">
        <div class="form-group">
          <label for="child-name">Name</label>
          <input type="text" id="child-name" name="name" required />
        </div>

        <div class="form-group">
          <label for="child-phonetic">Phonetic (optional)</label>
          <input type="text" id="child-phonetic" name="phonetic" placeholder="e.g. /ˈleɪ.əl/" />
        </div>

        <div class="form-group">
          <label for="child-meaning">Meaning</label>
          <textarea id="child-meaning" name="meaning" required></textarea>
        </div>

        <div class="form-group">
          <label for="child-passage">Passage (optional)</label>
          <input type="text" id="child-passage" name="passage" placeholder="e.g. Numbers 3:24" />
        </div>

        <div class="form-group">
          <label for="child-sort">Sort Order</label>
          <input type="number" id="child-sort" name="sort_order" value="0" />
        </div>

        <button type="submit" class="btn btn-primary">Add Name</button>
      </form>

      <h2 style="margin-top:1.5rem;">Names Added</h2>
      <ul id="children-list" class="children-list">
        <li>No names added yet.</li>
      </ul>

      <div style="margin-top:1rem; text-align:center;">
        <a id="view-link" href="#" class="btn btn-outline">View Flashcards</a>
      </div>
    </div>
  </div>

  <script src="/static/js/theme.js"></script>
  <script src="/static/js/add.js"></script>
  <script>
    // Update view link when parent is selected
    const parentSelect = document.getElementById("parent-select");
    const viewLink = document.getElementById("view-link");
    parentSelect.addEventListener("change", () => {
      if (parentSelect.value) {
        viewLink.href = `/view.html?id=${parentSelect.value}`;
      }
    });
  </script>
</body>
</html>
